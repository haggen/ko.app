(function(d,h){var e=function(f,e,g){e=function(a){a.root="#/";a.path="";a.context={};a.template="";a.params={};a.map=function(a,c){way.map(a,c)};a.session=function(a,c){c!==h&&(null===c?Cookies.expire(a):Cookies.set(a,c));return Cookies.get(a)};a.redirect=function(a){0===a.indexOf("#")?location.hash=a:location.href=a};a.render=function(b){a.template=b;b=f('<script type="text/html"><\/script>');b.attr("id",a.template);f("body").append(b);b.load("templates/"+a.template+".html",function(){g.applyBindings({template:a.template,
context:a.context});f(this).remove()})};a.dispatch=function(){var b,c;b=location.hash;if(b!==a.path){a.path=b;b=way.match(b);0===b.length&&(b=way.match("#/404"));for(c=0;c<b.length&&!(a.params=b[c].params,!b[c].action.call(a,a.context));c++);}};a.listen=function(){"onhashchange"in d&&(!document.documentMode||8<=document.documentMode)?d.onhashchange=a.dispatch:setInterval(a.dispatch,50)};a.run=function(){a.listen();""===location.hash&&a.redirect(a.root);a.dispatch()};a.apply(a)};f('[data-bind="app"]').attr("data-bind",
"template: { name: template, data: context }");return g.app=e};"function"===typeof define&&define.amd?define(["jquery","way","knockout","cookies"],e):e(d.jQuery,d.way,d.ko,d.Cookies);!0})(window);
