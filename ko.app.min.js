(function(d,i){var f=function(e,f,h){var g={templatesPath:"templates/",templatesExt:".html"},f=function(a){a.root="#/";a.path="";a.context={};a.template="";a.params={};a.map=function(a,c){way.map(a,c)};a.session=function(a,c){c!==i&&(null===c?Cookies.expire(a):Cookies.set(a,c));return Cookies.get(a)};a.redirect=function(b){0===b.indexOf("#")?location.hash===b?a.dispatch():location.hash=b:location.href=b};a.render=function(b){a.template=b;b=e('<script type="text/html"><\/script>');b.attr("id",a.template);
e("body").append(b);b.load(g.templatesPath+a.template+g.templatesExt,function(){h.applyBindings({template:a.template,context:a.context});e(this).remove()})};a.dispatch=function(b){var c;c=location.hash;if(c!==a.path||b){a.path=c;b=way.match(c);0===b.length&&(b=way.match("#/404"));for(c=0;c<b.length&&!(a.params=b[c].params,!b[c].action.call(a,a.context));c++);}};a.listen=function(){"onhashchange"in d&&(!document.documentMode||8<=document.documentMode)?d.onhashchange=a.dispatch:setInterval(a.dispatch,
50)};a.run=function(){a.listen();""===location.hash&&a.redirect(a.root);a.dispatch()};a.configure=function(a){g=e.extend(g,a)};a.apply(a)};e('[data-bind="app"]').attr("data-bind","template: { name: template, data: context }");return h.app=f};"function"===typeof define&&define.amd?define(["jquery","way","knockout","cookies"],f):f(d.jQuery,d.way,d.ko,d.Cookies);!0})(window);
